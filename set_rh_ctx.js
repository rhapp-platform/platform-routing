var B={async fetch(b){const h=new Request(b),A=new URL(b.url),v=A.hostname.split(".")[0],[,j,w]=A.pathname.split("/"),y=A.searchParams.get("latest")?`?t=${Date.now()}`:"",k=await fetch(`https://sb.rhap.cc/storage/v1/object/public/apps/${v}/${j}/app.ctx${y}`);if(!k.ok)return fetch("https://app-sidecar.rhappsody.cloud/dne/index.html?latest");const z=k.headers.get("content-type");return h.headers.set("rh-ctx",z),h.headers.set("rh-an",j),h.headers.set("rh-sidecar",w),fetch(h)}};export{B as default};
